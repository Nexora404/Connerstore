<!DOCTYPE html>

<html>
<head>
  <title>commercial</title>
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8">
  <title>Hello, World!</title>
  <link rel="stylesheet" href="style.css">
  <link rel="stylesheet" href="animation.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
  

<body>
  <nav>
    <li class="navigation">
      <a class="nav-item" href="index.html">home</a>
      <a class="nav-item" href="oders.html">oders</a>
      <a class="nav-item" href="support.html">support</a>
      <a class="nav-item" href="account.html">account</a>
    </li>
  </nav>
  
  <i class="fas fa-tablet "></i>
  <h2 id="tittle" class="slide">CONNER STORE</h2>
    
</head>
  <input type="text" class="pop" id="search" onkeyup="searchphone()" placeholder="search your phone ......">
  <p id="noresults"> no results founds ...</p>
  <p style=" 
  color: blueviolet;"> Time left till offer ends </p>
  <div id="countdown"></div>
  <main>
    <div id="iphone" class="phone-card">od
    Phone: I-phone 16
    <img src="iphone.jpg"
     alt="Phone Image"
     width="300">
      <h3>I-phone17</h3>
      <p><b>price:ksh 145,000</b>
        <br>
        RAM 16GB
        <br>
        ROM 256GB
        <br>
        charge speed: 45W
        <br>
      </p>
      <label for="iphone"> quantity:
        <select onchange="updatetotal()">
          <option value="1">1</option>
          <option value="1">2</option>
          <option value="3"> 3</option>
        </select>
      </label>
      <br>
        
      <button id="iphonebtn" onclick="buy('iphone')"> purchase</button>
    </div>
    <div id="samsung" class="phone-card">
      <img src="samsung.jpg"
     alt="Phone Image"
     width="300">
      <p>
        <h3>
        Samsung s25 ultra
          </h3>
        <b>price :ksh 100,000</b>
        <br>
        RAM : 16 GB 
        <br>
        ROM : 256GB 
        <br>
        charge speed : 40w
      </p>
      <label for="samsung"> Quantity:
      <select onchange="updatetotal()"> 
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
      </label>
      <br>
      <button id="samsungbtn" onclick="buy('samsung')">purchase</button>
    </div>
    
    <div id="tecno" class="phone-card">
      <img src="tecnojpg.jpg"
     alt="Phone Image"
     width="300">
      <p>
        <h3>
        Techno camon 40
          </h3>
        <b>price :ksh 100,000</b>
        <br>
        RAM : 16 GB 
        <br>
        ROM : 256GB 
        <br>
        charge speed :45w
      </p>
      <label for="tecno"> Quantity:
      <select onchange="updatetotal()"> 
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
      </label>
      <br>
      <button id="tecnobtn" onclick="buy('techno')">purchase</button>
    </div>
    
    <div id="infinix" class="phone-card">
      <img src="infinix.jpg"
     alt="Phone Image"
     width="300">
      <p>
        <h3>
        Infinix hot 50
          </h3>
        <b>price :ksh 100,000</b>
        <br>
        RAM : 16 GB 
        <br>
        ROM : 256GB 
        <br>
        charge speed : 33w
      </p>
      <label for="infinix"> Quantity:
      <select onchange="updatetotal()"> 
        <option value="1">1</option>
        <option value="2">2</option>
        <option value="3">3</option>
      </select>
      </label>
      <br>
      <button id="infinixbtn" onclick="buy('ifinix')">purchase</button>
     </div>
      <div id="oppo" class="phone-card">
        
  <img src="oppo.jpg"
   alt="Phone Image" width="300">
  <p>
    <h3>Oppo Find X7</h3>
    <b>price :ksh 80,000</b><br>
    RAM : 12 GB <br>
    ROM : 256GB <br>
    charge speed : 80w
  </p>
  <label for="oppo"> Quantity:
    <select onchange="updatetotal()"> 
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
    </select>
  </label>
  <br>
  <button id="oppobtn" onclick="buy('oppo')">purchase</button>

    </div>
    <div id="oneplus" class="phone-card">
  <img src="onepllus.jpg"
   alt="Phone Image" width="300">
  <h3>OnePlus 12 Pro</h3>
  <p>
    <b>Price: Ksh 95,000</b><br>
    RAM: 16GB <br>
    ROM: 512GB <br>
    Charge Speed: 100W
  </p>
  <label for="oneplus">Quantity:
    <select onchange="updatetotal()"> 
      <option value="1">1</option>
      <option value="2">2</option>
      <option value="3">3</option>
    </select>
  </label>
  <br>
  <button id="oneplusbtn" onclick="buy('oneplus')">Purchase</button>
</div>
  </main>
  <form  id="oder-form"  onsubmit="return validateform(event)" action="oders.html"
  target="_blank" method="GET">
    
    <button id="cancel" onclick="closeform()">x</button>
    <h3 id="paymthd"> Payment method</h3>
    <label for="formphone"> 
      <p id="formphone"> </p>
      
    </label>   
    <label for="formprice"> 
      <p id="formprice"></p>
    </label>    
      <label> 
        Choose payment method :
        <select id="bankoptn">
          <option value="kcb"> KCB bank</option>
          <option value="Equity"> Equity Bank</option>
          <option value="mpesa"> Mpesa</option>
        </select>
      </label>
    <br>
    <label >Enter account/phone number :
      <input id="number" type="number" name="accnumber"minlength="10" placeholder="acc/phone number">
      <br>
      <button type="submit" onclick="cost()" id="pay" value="complete pay" > complete pay 
        </button>
    </label>
    </form>
  <div id="countdown">

  </div>

 
  <script>

    ocument.addEventListener('DOMContentLoaded', function()  { 

 let endtime = localStorage.getItem('countdownend')   
 if (!endtime) {

  endtime = new Date().getTime() +5  * 60 * 1000 ;
  localStorage.setItem('countdownend', endtime);
  
} else {
    endtime = Number(endtime);
}

const countdown = document.getElementById('countdown');

const timer = setInterval(()  => {
    const now = new Date().getTime();
    const distance = endtime - now ;
    if (distance <= 0) {
        clearInterval(timer);
        countdown.innerText = "time is up";
        
        return;
    }
    let minutes = Math.floor(distance / 600000)
    const seconds = Math.floor((distance % 60000) / 1000);
    countdown.innerText =  String(minutes).padStart(2, '0') + ":" + 
    String(seconds).padStart(2, '0') ;

     console.log(minutes, seconds);
     if ( minutes == 5 ) {

     }
}, 1000) ;
  
  });

  </script>


</body>
  <script>
    function searchphone() {
    let input = document.getElementById('search').value.toLowerCase();
    let phones = document.getElementsByClassName("phone-card");
    let found = 0;
    
    for (let i = 0 ; i<phones.length; i++) {
        let name = phones[i].getElementsByTagName('h3')[0].textContent.toLowerCase();
        if (name.includes(input)) {
            phones[i].style.display = "block";
            found++;
        } else {
            phones[i].style.display = "none";
        }
    }
    if (found === 0 ) {
        document.getElementById('noresults').style.display = "block";
        found++;
        
    } else {
        document.getElementById("noresults").style.display = "none";
    }
}

// oder button
function buy(phone) {
    document.getElementById('oder-form').style.display = "grid";
    const form = document.getElementById('oder-form');
    form.classList.add('showform');
    
    //change prices per phone 
    let selectedphone = "";
    let selectedprice = 0;
    switch (phone) {
        case "iphone":
           selectedphone = "I-phone 16"
            selectedprice = 145000;
            break ;
        case "samsung":
             selectedphone = "samsung s25 ultra";
             selectedprice = 100000;
             break;
        case "techno":
             selectedphone = "Tecno camon 40 ";
             selectedprice = 100000;
             break;
        case "infinix":
             selectedphone = "infinix hot 50";
             selectedprice = 100000;
             break;
        case "oppo":
             selectedphone = "oppo find X7";
             selectedprice = 800000;
             break;
        case "oneplus":
             selectedphone = " one plus 12pro";
             selectedprice = 95000;
             break;
        default :
             selectedphone = "unknown";
             selectedprice = 0;
             break;
        
        
    }
    
document.getElementById('formprice').textContent = "Price: Ksh " + selectedprice;
document.getElementById('formphone').textContent = "Phone: " + selectedphone;
}
//dropdown price change 



//hide 
function closeform() {
    document.getElementById("oder-form").style.display = "none";
    
}
function validateform(e){
    
    const accnumber = document.getElementById('number').value;
    const  cmf = document.getElementById('conf');
    
    if (accnumber.length === 10 ) {
        alert('paymt'+ {accnumber});
       // document.getElementById('conf').style.display = "flex";
        return true;
        
    } else {
        alert('th');
        return false;
        
    }
    
}
  </script>
<script src="script.js"  ></script>
</html>
